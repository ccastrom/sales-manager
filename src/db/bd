USE bdVentas

CREATE TABLE client(
	id INTEGER PRIMARY KEY,
	name VARCHAR(50),
	phone INT,
	address VARCHAR(50)
);
INSERT INTO client VALUES(NULL,'Cristobal',444,'Villa los heroes');
INSERT INTO client VALUES(NULL,'Claudio',222,'Augusto Figueroa');
INSERT INTO client VALUES(NULL,'Benjamin',122,'Alto lo Castillo');

CREATE TABLE easterBread(
	id	INTEGER PRIMARY KEY,
	type VARCHAR(20),
	value INT,
	elabDate datetime default current_timestamp
);
INSERT INTO easterBread VALUES(NULL,'Nuez',7500,date('now'));
INSERT INTO easterBread VALUES(NULL,'Tradicional',6000,date('now'));
INSERT INTO easterBread VALUES(NULL,'Nuez y almendra',8000,date('now'));

CREATE TABLE sale(
	id INTEGER PRIMARY KEY,
	id_client INT,
	id_easterBread INT,
	fechaVenta datetime default current_timestamp,
	FOREIGN KEY(id_client) REFERENCES client(id),
	FOREIGN KEY(id_easterBread) REFERENCES easterBread(id)
);
INSERT INTO sale VALUES(NULL,2,1,date('now'));
INSERT INTO sale VALUES(NULL,3,1,date('now'));
INSERT INTO sale VALUES(NULL,1,3,date('now'));

SELECT 
client.name,client.phone,client.address
FROM client
INNER JOIN sale ON id_client=client.id;

SELECT 
easterBread.type,easterBread.value,client.name
FROM easterBread,client
INNER JOIN sale ON sale.id_easterBread=easterBread.id
INNER JOIN sale ON id_client=client.id;




	
SELECT * FROM sale;
	

